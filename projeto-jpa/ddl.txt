CREATE TABLE USUARIO (NOME VARCHAR(255) NOT NULL, DATANASC DATE, EMAIL VARCHAR(255), SENHA VARCHAR(255), PRIMARY KEY (NOME))
CREATE TABLE GENERO (NOME VARCHAR(255) NOT NULL, PRIMARY KEY (NOME))
CREATE TABLE VISUALIZACAO (ID  SERIAL NOT NULL, DATA TIMESTAMP, FILME_ID INTEGER, USUARIO_NOME VARCHAR(255), id_filme INTEGER, PRIMARY KEY (ID))
CREATE TABLE FILME (ID  SERIAL NOT NULL, ANO INTEGER, CAPA BYTEA, CLASSIFICACAO VARCHAR(255), DESCRICAO VARCHAR(255), DURACAO VARCHAR(255), TITULO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE GENERO_FILME (generos_NOME VARCHAR(255) NOT NULL, filmes_ID INTEGER NOT NULL, PRIMARY KEY (generos_NOME, filmes_ID))
ALTER TABLE VISUALIZACAO ADD CONSTRAINT FK_VISUALIZACAO_FILME_ID FOREIGN KEY (FILME_ID) REFERENCES FILME (ID)
ALTER TABLE VISUALIZACAO ADD CONSTRAINT FK_VISUALIZACAO_USUARIO_NOME FOREIGN KEY (USUARIO_NOME) REFERENCES USUARIO (NOME)
ALTER TABLE VISUALIZACAO ADD CONSTRAINT FK_VISUALIZACAO_id_filme FOREIGN KEY (id_filme) REFERENCES FILME (ID)
ALTER TABLE GENERO_FILME ADD CONSTRAINT FK_GENERO_FILME_filmes_ID FOREIGN KEY (filmes_ID) REFERENCES FILME (ID)
ALTER TABLE GENERO_FILME ADD CONSTRAINT FK_GENERO_FILME_generos_NOME FOREIGN KEY (generos_NOME) REFERENCES GENERO (NOME)
